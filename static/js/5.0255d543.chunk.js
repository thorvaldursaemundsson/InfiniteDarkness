(this.webpackJsonpinfinitedarkness=this.webpackJsonpinfinitedarkness||[]).push([[5],{64:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(20),a=n(19);function r(t,e){return!e||"object"!==Object(i.a)(e)&&"function"!==typeof e?Object(a.a)(t):e}},65:function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return i}))},67:function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}n.d(e,"a",(function(){return a}))},77:function(t,e,n){"use strict";n.r(e);var i=n(3),a=n(7),r=n(0),o=n.n(r),s=n(9),h=n(8),c=n(64),u=n(65),l=n(67);n(11);var d=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{boardHeight:t.boardHeight,boardWidth:t.boardWidth,initialIcons:t.initialIcons}))},f=function(t){var e=t.icons,n=t.onNext,i=Object(r.useState)(0),s=Object(a.a)(i,2),h=s[0],c=s[1],u=Object(r.useState)(0),l=Object(a.a)(u,2),d=l[0],f=l[1],g=e.sort((function(t,e){return e.sequence-t.sequence})),p=e.length>=1?g[0].sequence:0,v=h+1,x=function(t){f(p),c(t),g.length>0&&n(g[0])};return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){return x(1)}},"Begin/restart"),o.a.createElement("h5",null,"Round ",h),o.a.createElement("ul",null,g.filter((function(t){return t.sequence<=d})).map((function(t){return o.a.createElement("li",{key:"bmsqeuencer_".concat(t.id)},t.symbol," (",t.sequence,")",t.sequence===d?o.a.createElement("button",{onClick:function(){return function(){var t=g.filter((function(t){return t.sequence<d}));t.length>0?(f(t[0].sequence),n(t[0])):x(h+1)}()}},"Done"):null)}))),o.a.createElement("h5",null,"Round ",v),o.a.createElement("ul",null,g.filter((function(t){return t.sequence>d})).map((function(t){return o.a.createElement("li",{key:"bmsqeuencer_".concat(t.id)},t.symbol," (",t.sequence,")")}))))},g=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).mount=void 0,n.hexagonAngle=0,n.sideLength=25,n.hexHeight=0,n.hexRadius=0,n.hexRectangleHeight=0,n.hexRectangleWidth=0,n.state={outputData:":)",currentIcons:t.initialIcons,currentIconsTurns:void 0,hexes:[]},n}return Object(l.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.initializeBoard();var e=this.mount;if(null!==e&&void 0!==e){var n,i=!1,a=0,r=0,o=0,s=0;e.addEventListener("mousemove",(function(e){var a=t.mount;if(null!==a&&void 0!==a){var r=a.getBoundingClientRect(),h=e.clientX-r.left,c=e.clientY-r.top;o=Math.floor(c/(t.hexHeight+t.sideLength));var u=(s=Math.floor((h-o%2*t.hexRadius)/t.hexRectangleWidth))*t.hexRectangleWidth+o%2*t.hexRadius,l=o*(t.hexHeight+t.sideLength),d=a.getContext("2d");if(null===d)return;if(d.clearRect(0,0,2*t.props.boardWidth*t.sideLength,2*t.props.boardHeight*t.sideLength),d.fillStyle="#000000",d.strokeStyle="#666666",d.lineWidth=1,t.drawBoard(d,t.props.boardWidth,t.props.boardHeight),o>=0&&o<t.props.boardWidth&&s>=0&&s<t.props.boardHeight&&void 0!==d&&(d.strokeStyle="#FF0000",d.lineWidth=3,t.drawHexagon(d,u,l,!1),d.strokeStyle="#666666",d.lineWidth=1),void 0!==n&&void 0!==d)for(var f=0;f<t.props.boardWidth;++f)for(var g=0;g<t.props.boardHeight;++g)t.distanceBetweenPositions(f,g,n.startX,n.startY)<=n.speed&&(d.fillStyle="#9999FF",t.drawHexagon(d,f*t.hexRectangleWidth+g%2*t.hexRadius,g*(t.sideLength+t.hexHeight),!0));t.drawIconsOnBoard(d),i=!0}})),e.addEventListener("mousedown",(function(o){if(i=!1,null!==e&&void 0!==e){var s=e.getBoundingClientRect(),h=o.clientX-s.left,c=o.clientY-s.top;r=Math.floor(c/(t.hexHeight+t.sideLength)),a=Math.floor((h-r%2*t.hexRadius)/t.hexRectangleWidth),n=t.findIconAtHex(a,r)}})),e.addEventListener("mouseup",(function(){if(void 0!==n&&!0===i){var e=t.state.currentIcons;for(var a in e){var r=e[a];if(r.id===n.id){r.startY=o,r.startX=s;break}}t.setState({currentIcons:e}),t.initializeBoard()}n=void 0,i=!1})),e.addEventListener("mouseleave",(function(){n=void 0}))}}},{key:"distanceBetweenPositions",value:function(t,e,n,i){var a=Math.abs(t-n),r=Math.abs(e-i);if(0===r)return a;if(1===r)return a+1-r%2;var o=0-(t+Math.floor(.5*e+.5)),s=0-(n+Math.floor(.5*i+.5)),h=Math.abs(o-s);return a+Math.max(r,h)}},{key:"getIconPosition",value:function(t){return{x:2*this.hexRadius*(t.startX+.25)+t.startY%2*this.hexRectangleWidth/2,y:.75*this.hexRectangleHeight*(t.startY+0)+this.hexRectangleHeight/2}}},{key:"componentDidUpdate",value:function(){this.props.initialIcons.length!==this.state.currentIcons.length&&this.setState({currentIcons:this.props.initialIcons});var t=this.mount;null!==t&&void 0!==t&&(null!==t.getContext("2d")&&this.initializeBoard())}},{key:"initializeBoard",value:function(){this.setVariables();var t=this.mount;if(null!==t&&void 0!==t){var e=t.getContext("2d");if(null!==e)return e.clearRect(0,0,2*this.props.boardWidth*this.sideLength,2*this.props.boardHeight*this.sideLength),e.fillStyle="#000000",e.strokeStyle="#666666",e.lineWidth=1,this.drawBoard(e,this.props.boardWidth,this.props.boardHeight),this.drawIconsOnBoard(e),e}}},{key:"findIconAtHex",value:function(t,e){for(var n in this.state.currentIcons){var i=this.state.currentIcons[n],a=i.startX,r=i.startY;if(t===a&&e===r)return i}}},{key:"setVariables",value:function(){this.hexagonAngle=.523598776,this.hexHeight=Math.sin(this.hexagonAngle)*this.sideLength,this.hexRadius=Math.cos(this.hexagonAngle)*this.sideLength,this.hexRectangleHeight=this.sideLength+2*this.hexHeight,this.hexRectangleWidth=2*this.hexRadius}},{key:"drawIconsOnBoard",value:function(t){for(var e in this.state.currentIcons){var n=this.state.currentIcons[e],i=this.getIconPosition(n),a=i.x,r=i.y;void 0===this.state.currentIconsTurns||n.id===this.state.currentIconsTurns.id&&(t.fillStyle="red",this.drawHexagon(t,n.startX*this.hexRectangleWidth+n.startY%2*this.hexRadius,n.startY*(this.sideLength+this.hexHeight),!0)),t.font="11px arial",t.fillStyle="black",t.fillText("".concat(n.symbol),a,r)}}},{key:"convertXyToXYZ",value:function(t,e){return"".concat(t,";").concat(e,";").concat(0-(t+Math.floor(.5*e+.5)))}},{key:"drawBoard",value:function(t,e,n){for(var i=[],a=0;a<e;++a)for(var r=0;r<n;++r)i.push({x:a,y:r,z:1-(a+r)}),this.drawHexagon(t,a*this.hexRectangleWidth+r%2*this.hexRadius,r*(this.sideLength+this.hexHeight),!1,this.convertXyToXYZ(a,r))}},{key:"drawHexagon",value:function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";t.beginPath(),t.moveTo(e+this.hexRadius,n),t.lineTo(e+this.hexRectangleWidth,n+this.hexHeight),t.lineTo(e+this.hexRectangleWidth,n+this.hexHeight+this.sideLength),t.lineTo(e+this.hexRadius,n+this.hexRectangleHeight),t.lineTo(e,n+this.sideLength+this.hexHeight),t.lineTo(e,n+this.hexHeight),t.closePath(),""!==a&&(t.fillStyle="#CCCCCC",t.fillText(a,e+this.hexRadius/2,n+1.5*this.hexRadius)),i&&t.fill(),t.stroke()}},{key:"render",value:function(){var t=this;return o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{style:{background:"white",width:"650px",height:"600px",overflow:"scroll"}},o.a.createElement("canvas",{height:this.props.boardHeight*this.sideLength*1.5,width:this.props.boardWidth*this.sideLength*1.8,onContextMenu:function(t){return t.preventDefault()},ref:function(e){return t.mount=e}}))),o.a.createElement("td",null,o.a.createElement(f,{icons:this.props.initialIcons,onNext:function(e){t.forceUpdate(),t.setState({currentIconsTurns:e})}})))))}}]),e}(o.a.Component),p={width:"60px"},v={width:"40px"},x="qwertyuiopasdfghjklzxcvbnm",b=function(){for(var t="",e=0;e<10;e++)t+=x[Math.floor(Math.random()*x.length)];return t};e.default=function(){var t=Object(r.useState)(18),e=Object(a.a)(t,2),n=e[0],s=e[1],h=Object(r.useState)(15),c=Object(a.a)(h,2),u=c[0],l=c[1],f=Object(r.useState)(""),g=Object(a.a)(f,2),x=g[0],m=g[1],y=Object(r.useState)(0),O=Object(a.a)(y,2),R=O[0],H=O[1],E=Object(r.useState)(0),j=Object(a.a)(E,2),I=j[0],k=j[1],w=Object(r.useState)([]),W=Object(a.a)(w,2),L=W[0],S=W[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",title:"width",style:v,value:n,onChange:function(t){return s(parseInt(t.target.value))}}),o.a.createElement("input",{type:"text",title:"height",style:v,value:u,onChange:function(t){return l(parseInt(t.target.value))}})," |",o.a.createElement("input",{type:"text",title:"sequence",style:v,value:R,onChange:function(t){return H(parseInt(t.target.value))}}),o.a.createElement("input",{type:"text",title:"speed",style:v,value:I,onChange:function(t){return k(parseInt(t.target.value))}}),o.a.createElement("input",{type:"text",title:"add icon",style:p,value:x,onChange:function(t){return m(t.target.value)}}),o.a.createElement("button",{onClick:function(){return S([].concat(Object(i.a)(L),[{symbol:x,startX:L.length,startY:0,sequence:R,speed:I,id:b()}])),m(""),k(0),void H(0)}},"Add"),o.a.createElement("br",null),o.a.createElement(d,{initialIcons:L,boardHeight:u,boardWidth:n}))}}}]);
//# sourceMappingURL=5.0255d543.chunk.js.map